# Dexaminds Documentation Hub

[![GitHub Pages](https://img.shields.io/badge/GitHub-Pages-brightgreen.svg)](https://dexaminds.github.io/)
[![MkDocs Material](https://img.shields.io/badge/MkDocs-Material-blue.svg)](https://squidfunk.github.io/mkdocs-material/)
[![Docker](https://img.shields.io/badge/Docker-Container-2496ED?logo=docker)](https://www.docker.com/)

Welcome to the Dexaminds Documentation Hub, the central knowledge base for Dexaminds' engineering team. This repository contains the source files for our public-facing documentation website.

---

## 📖 Overview

This documentation serves as the single source of truth for Dexaminds' engineering practices, API guidelines, and internal processes. It's built using [MkDocs](https://www.mkdocs.org/) with the [Material for MkDocs](https://squidfunk.github.io/mkdocs-material/) theme, containerized with Docker for easy development and deployment.

---

## 🚀 Getting Started

### Prerequisites

* [Docker Desktop](https://www.docker.com/products/docker-desktop/) or Docker Engine
* Git
* SSH access to private repositories

---

## 🔐 SSH Setup (Choose One)

### ➔ Single User (Basic SSH Setup)

1. Generate an SSH key if not already available:

   `bash
   ssh-keygen -t rsa -b 2048 -C "your-email@example.com"
   `

2. Add your **public key** (`~/.ssh/id_rsa.pub`) to your **GitHub account**:

   \* GitHub → Profile → Settings → SSH and GPG Keys → New SSH Key

3. Add this to your `~/.ssh/config`:

   `ssh
   Host github.com
     HostName github.com
     User git
     IdentityFile ~/.ssh/id_rsa
     IdentitiesOnly yes
   `

4. Test the SSH connection:

   `bash
   ssh -T git@github.com
   `

---

### ➔ Multi-User or Organization SSH Setup (With Aliases)

1. Save your private key (example: `id_dexaminds_admin.rsa`) to `~/.ssh/`.

2. Update `~/.ssh/config` to use a custom alias (example below):

   `ssh
   Host github.com-dexaminds-admin
     HostName github.com
     User git
     IdentityFile ~/.ssh/id_dexaminds_admin.rsa
     IdentitiesOnly yes
   `

3. Add GitHub's public key to `known_hosts` (to avoid confirmation prompts):

   `bash
   ssh-keyscan github.com >> ~/.ssh/known_hosts
   `

> ✅ **SSH Key Naming Convention (suggested):**
>
> `id_<org>_<role>.rsa` — e.g., `id_dexaminds_admin.rsa`

---

## 📦 Documentation Sources & Sparse Checkout

Documentation is fetched from multiple private repositories using **sparse checkout** defined in a centralized config file:

```
scripts/docs-sources.json
```

### 🧩 Example Entry (`docs-sources.json`)

```json
{
  "target": "api-guidelines",
  "repo": "dexaminds/api-guidelines",
  "paths": ["README.md", "design-principles.md", "rest-guidelines.md"],
  "alias": "github.com-dexaminds-admin"
}
```

### Field Explanation

| Field  | Description                                                               |
| ------ | ------------------------------------------------------------------------- |
| target | Local folder under `docs/` where content will be checked out              |
| repo   | GitHub repository (format: `org/repo`)                                    |
| paths  | List of files/folders to fetch (sparse checkout)                          |
| alias  | Optional. SSH alias as per `~/.ssh/config`. Omit if using default GitHub. |

💡 **Tip:** If you're not using aliases, omit the `"alias"` key entirely and ensure your SSH works with `git@github.com`.

---

## ➕ Add a New Documentation Source

1. Open the file: `scripts/docs-sources.json`
2. Add a new object in the array with desired `target`, `repo`, `paths`, and optionally `alias`
3. Run the sparse-checkout script:

   `bash
   ./scripts/sparse-checkout-all.sh
   `

---

## 🧪 Local Development with Docker

1. **Clone this repository:**

   `bash
   git clone https://github.com/dexaminds/dexaminds.github.io.git
   cd dexaminds.github.io
   `

2. **Run sparse-checkout to pull docs from private repos:**

   `bash
   chmod +x ./scripts/sparse-checkout-all.sh
   ./scripts/sparse-checkout-all.sh
   `

3. **Build the Docker image:**

   `bash
   docker build -t dexaminds-docs .
   `

4. **Run the development server:**

   `bash
   docker run --rm -it -p 8000:8000 -v "/$(pwd -W)":/docs dexaminds-docs
   `

   > **Windows (cmd.exe)**:
   >
   > `cmd
   > docker run --rm -it -p 8000:8000 -v "%cd%":/docs dexaminds-docs
   > `

5. Visit `http://localhost:8000` in your browser to preview the site.

---

## 📂 Project Structure

```
.
├── docs/                  # Contains fetched docs via sparse checkout
│   ├── api-guidelines/
│   ├── engineering-handbook/
│   ├── internal-docs/
│   └── index.md
├── site/                  # Auto-generated by MkDocs (do not edit)
├── scripts/               # Utility scripts
│   ├── sparse-checkout-all.sh
│   └── docs-sources.json
├── mkdocs.yml             # Main MkDocs config file
└── README.md              # You're here!
```

---

## ⚙️ Building with MkDocs Locally (No Docker)

If you prefer not to use Docker:

```bash
pip install mkdocs mkdocs-material mkdocs-macros-plugin
mkdocs serve
```

Then open `http://localhost:8000`

---

## 👨‍💼 New Developer Onboarding

### ✅ Admin Tasks (Repository Owner)

* Add the new member to each private repository:

  * Go to **GitHub > Repo > Settings > Collaborators**
  * Invite user by GitHub username
* Ensure their public SSH key is uploaded to their GitHub account
* Share naming convention and SSH alias format
* Add relevant SSH private key to GitHub Actions as `GH_SSH_KEY_ADMIN` if used in CI/CD

### ✅ Developer Tasks (New Member)

* Upload public key to GitHub account
* Configure `~/.ssh/config` using single or alias setup
* Clone this repository
* Run `scripts/sparse-checkout-all.sh`
* Use Docker or MkDocs to serve the site locally

---

## 🤝 Contributing

1. Fork this repository
2. Create a new feature branch
3. Make your changes
4. Push and open a Pull Request

---

## 🙏 Acknowledgments

* [MkDocs](https://www.mkdocs.org/)
* [Material for MkDocs](https://squidfunk.github.io/mkdocs-material/)
* [Docker](https://www.docker.com/)
* Contributors and community 💙
